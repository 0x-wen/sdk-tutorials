(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{344:function(t,s,e){"use strict";e.r(s);var a=e(1),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"full-app"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#full-app"}}),t._v(" Full App")]),t._v(" "),e("p",[t._v("Ok, our "),e("code",[t._v("greeter")]),t._v(" module is ready to be incorporated into our application. First\nwe will create its Keeper before we insert it into the ModuleManager alongside\nthose added by the "),e("code",[t._v("starter")]),t._v(". Then we create a keeper, construct an AppModule\nand add greeter's AppModuleBasic and AppModule alongside the other modules.")]),t._v(" "),e("p",[t._v("Update your "),e("code",[t._v("app.go")]),t._v(" to look like the following")]),t._v(" "),e("div",{staticClass:"language-go extra-class"},[e("div",{staticClass:"highlight-lines"},[e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br"),e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br"),e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br"),e("br"),e("br"),e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br"),e("br"),e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br"),e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br"),e("br"),e("br"),e("br"),e("br"),e("br"),e("br")]),e("pre",{pre:!0,attrs:{class:"language-go"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" hellochain\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\tsdk "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"github.com/cosmos/cosmos-sdk/types"')]),t._v("\n\tabci "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"github.com/tendermint/tendermint/abci/types"')]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"github.com/tendermint/tendermint/libs/log"')]),t._v("\n\tdbm "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"github.com/tendermint/tm-db"')]),t._v("\n\n\t"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"github.com/cosmos/sdk-tutorials/hellochain/starter"')]),t._v("\n\n\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//import greeter types")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"github.com/cosmos/sdk-tutorials/hellochain/x/greeter"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" appName "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hellochain"')]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ModuleBasics holds the AppModuleBasic struct of all modules included in the app")]),t._v("\n\tModuleBasics "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" starter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ModuleBasics\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Add the keeper and its key to our app struct")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" helloChainApp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("starter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AppStarter                 "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// helloChainApp extends starter.AppStarter")]),t._v("\n\tgreeterKey          "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("KVStoreKey "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// the store key for the greeter module")]),t._v("\n\tgreeterKeeper       greeter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Keeper  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// the keeper for the greeter module")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// NewHelloChainApp returns a fully constructed SDK application")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewHelloChainApp")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("logger log"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Logger"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" db dbm"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" abci"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Application "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// pass greeter's AppModuleBasic to be included in the ModuleBasicsManager")]),t._v("\n\tappStarter "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" starter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewAppStarter")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("appName"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" logger"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" db"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" greeter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AppModuleBasic"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// create the key for greeter's store")]),t._v("\n\tgreeterKey "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewKVStoreKey")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("greeter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StoreKey"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// construct the keeper")]),t._v("\n\tgreeterKeeper "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" greeter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewKeeper")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("greeterKey"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" appStarter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Cdc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// compose our app with greeter")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" app "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("helloChainApp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tappStarter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\tgreeterKey"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\tgreeterKeeper"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Add greeters' complete AppModule to the ModuleManager")]),t._v("\n\tgreeterMod "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" greeter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewAppModule")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("greeterKeeper"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tapp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Mm"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Modules"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("greeterMod"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" greeterMod\n\n\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// create a subspace for greeter's data in the main store.")]),t._v("\n\tapp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("MountStore")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("greeterKey"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StoreTypeDB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// do some final configuration...")]),t._v("\n\tapp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("InitializeStarter")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" app\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);