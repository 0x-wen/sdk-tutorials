(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{342:function(s,e,a){"use strict";a.r(e);var n=a(1),t=Object(n.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"编译并运行程序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译并运行程序"}}),s._v(" 编译并运行程序")]),s._v(" "),a("h2",{attrs:{id:"编译nameservice应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译nameservice应用"}}),s._v(" 编译"),a("code",[s._v("nameservice")]),s._v("应用")]),s._v(" "),a("p",[s._v("要在此仓库中编译 nameservice 应用程序以查看功能，首先需要安装 "),a("strong",[s._v("Go 1.13.0")]),s._v(" 或更高版本。")]),s._v(" "),a("p",[s._v("如果从未用过 "),a("code",[s._v("go mod")]),s._v("，需要先添加几个环境变量。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/go/bin\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"export GOPATH='),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v('/go"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.bash_profile\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"export GOBIN=\\'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$GOPATH")]),s._v('/bin"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.bash_profile\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"export PATH=\\'),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v(":\\"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$GOBIN")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.bash_profile\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"export GO111MODULE=on"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.bash_profile\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" ~/.bash_profile\n")])])]),a("p",[s._v("现在，你可以安装并使用 nameservice 了。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Install the app into your $GOBIN")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Now you should be able to run the following commands:")]),s._v("\nnsd "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v("\nnscli "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v("\n")])])]),a("h2",{attrs:{id:"运行活跃的网络并使用操作命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行活跃的网络并使用操作命令"}}),s._v(" 运行活跃的网络并使用操作命令")]),s._v(" "),a("p",[s._v("要初始化配置和应用程序的"),a("code",[s._v("genesis.json")]),s._v("文件和及一个用于交易的帐户，请先运行：")]),s._v(" "),a("blockquote",[a("p",[s._v("注意：在下面的命令中，使用终端来提取地址。你也可以只是输入创建密钥时保存的原始字符串，如下所示。这些命令需要在你的机器上安装"),a("a",{attrs:{href:"https://stedolan.github.io/jq/download/",target:"_blank",rel:"noopener noreferrer"}},[a("code",[s._v("jq")]),a("OutboundLink")],1),s._v("。")])]),s._v(" "),a("blockquote",[a("p",[s._v("注意：如果你之前已经运行过该教程，则可以从头开始使用"),a("code",[s._v("nsd unsafe-reset-all")]),s._v("或删除 home 文件夹下的两个执行程序的数据及配置文件夹"),a("code",[s._v("rm -rf ~/.ns *")])])]),s._v(" "),a("blockquote",[a("p",[s._v("注意：如果你的 Cosmos 应用需要使用 ledger，使用命令 "),a("code",[s._v("nscli keys add jack")]),s._v(" 创建 key 时需要在后面添加 ---ledger 参数。只要这样就可以了。当对交易进行签名时。jack 会被自动识别为由 ledger 生成的 key，进而请求 ledger 设备。")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Initialize configuration files and genesis file")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# moniker is the name of your node")]),s._v("\nnsd init "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("moniker"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" --chain-id namechain\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Copy the `Address` output here and save it for later use")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# [optional] add "--ledger" at the end to use a Ledger Nano S')]),s._v("\nnscli keys "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" jack\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Copy the `Address` output here and save it for later use")]),s._v("\nnscli keys "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" alice\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Add both accounts, with coins to the genesis file")]),s._v("\nnsd add-genesis-account "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("nscli keys show jack -a"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" 1000nametoken,1000jackcoin\nnsd add-genesis-account "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("nscli keys show alice -a"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" 1000nametoken,1000alicecoin\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configure your CLI to eliminate need for chain-id flag")]),s._v("\nnscli config chain-id namechain\nnscli config output json\nnscli config indent "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\nnscli config trust-node "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n")])])]),a("p",[s._v("你现在可以通过调用"),a("code",[s._v("nsd start")]),s._v("来启动"),a("code",[s._v("nsd")]),s._v("。你将看到日志开始不停输出，表示正在生成的区块，这将花费几秒钟。")]),s._v(" "),a("p",[s._v("打开另一个终端，对刚刚创建的网络运行命令：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# First check the accounts to ensure they have funds")]),s._v("\nnscli query account "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("nscli keys show jack -a"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\nnscli query account "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("nscli keys show alice -a"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Buy your first name using your coins from the genesis file")]),s._v("\nnscli tx nameservice buy-name jack.id 5nametoken --from jack\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Set the value for the name you just bought")]),s._v("\nnscli tx nameservice set-name jack.id "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.8")]),s._v(".8.8 --from jack\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Try out a resolve query against the name you registered")]),s._v("\nnscli query nameservice resolve jack.id\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# > 8.8.8.8")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Try out a whois query against the name you just registered")]),s._v("\nnscli query nameservice whois jack.id\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# > {"value":"8.8.8.8","owner":"cosmos1l7k5tdt2qam0zecxrx78yuw447ga54dsmtpk2s","price":[{"denom":"nametoken","amount":"5"}]}')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Alice buys name from jack")]),s._v("\nnscli tx nameservice buy-name jack.id 10nametoken --from alice\n")])])]),a("h3",{attrs:{id:"恭喜，您已经构建了一个-cosmos-sdk-应用程序！-本教程现已完成。-如果要查看如何使用-rest-服务器运行相同的命令，请单击此处。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#恭喜，您已经构建了一个-cosmos-sdk-应用程序！-本教程现已完成。-如果要查看如何使用-rest-服务器运行相同的命令，请单击此处。"}}),s._v(" 恭喜，您已经构建了一个 Cosmos SDK 应用程序！ 本教程现已完成。 如果要查看如何使用 REST 服务器运行相同的命令，请"),a("router-link",{attrs:{to:"/nameservice/tutorial/cn/16-run-rest.html"}},[s._v("单击此处")]),s._v("。")],1)])}),[],!1,null,null,null);e.default=t.exports}}]);